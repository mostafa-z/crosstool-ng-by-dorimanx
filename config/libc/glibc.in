# glibc options

## depends on ! WINDOWS && ! BARE_METAL && ARCH_USE_MMU
##
## select LIBC_SUPPORT_THREADS_NATIVE
## select CC_CORE_PASSES_NEEDED
## select GETTEXT_NEEDED
## select BINUTILS_FORCE_LD_BFD_DEFAULT
##
## help The de-facto standard for Linux distributions.
## help Feature-rich, but large...  Most useful for desktop-like systems.

# GLIBC and kernel are special when it comes to obsoletion. Users
# of crosstool-ng depend on the ability to build new toolchains matching
# the kernel/libc versions of a particular target system, and LTS releases
# are still using quite ancient versions. Please do not retire versions
# (including versions in between) until the EOL dates indicated in version.desc.
source "config/versions/glibc.in"

config THREADS
    default "nptl"

# SPARCv8 support retired in 2.23
config GLIBC_NO_SPARC_V8
    def_bool y
    depends on GLIBC_2_23_or_later

# With 2.20, NPTL is in default glibc
config GLIBC_HAS_NPTL_ADDON
    def_bool y
    depends on !GLIBC_2_20_or_later

# With 2.20, all architectures are in main tree
config GLIBC_HAS_PORTS_ADDON
    def_bool y
    depends on !GLIBC_2_20_or_later

# With 2.17 and later, 'ports' addon is shipped in glibc tarball
config GLIBC_PORTS_EXTERNAL
    def_bool y
    depends on !GLIBC_2_17_or_later

# Some architectures require the ports addon. List them one by one here:
# This list must be carefully in sync with the architectures names
# we can find in config/arch/*
config GLIBC_NEEDS_PORTS
    def_bool y
    depends on ARCH_alpha || ARCH_arm || ARCH_m68k || ARCH_mips || ARCH_powerpc

# Ports are no longer an add-on starting with 2.20
config GLIBC_USE_PORTS
    def_bool y
    depends on GLIBC_NEEDS_PORTS && GLIBC_HAS_PORTS_ADDON

